<div class="">




  <!-- Loading State -->
  <div *ngIf="loading()" class="card text-center p-4">
    <div class="spinner"></div>
    <p class="mt-2">Loading profile...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error() && !loading()" class="card text-center p-4">
    <p class="error-message">{{ error() }}</p>
    <button class="btn btn-primary mt-2" (click)="onBack()">
      Go Back
    </button>
  </div>

  <!-- Profile Content -->
  <div *ngIf="user() && !loading() && !error()" class="">

    <!-- Profile Header -->
    <div class="profile-header-section">
      <div class="avatar-container">
        <div class="avatar large">
          {{ getInitials(user()) }}
        </div>
      </div>

      <div class="header-info">
        <h2>
          {{ user()!.firstName }} {{ user()!.lastName }}
        </h2>
        <p class="username">@{{ user()!.username }}</p>
        <p class="email">{{ user()!.email }}</p>
      </div>
    </div>

    <!-- Profile Details -->
    <div class="profile-details-grid">

      <!-- Contact Information -->
      <div class="detail-section">
        <h3>Contact Information</h3>

        <div class="detail-group">
          <label>Email</label>
          <p>{{ user()!.email }}</p>
        </div>

        <div class="detail-group">
          <label>Username</label>
          <p>{{ user()!.username }}</p>
        </div>

        <div class="detail-group">
          <label>First Name</label>
          <p>{{ user()!.firstName }}</p>
        </div>

        <div class="detail-group">
          <label>Last Name</label>
          <p>{{ user()!.lastName }}</p>
        </div>
      </div>

      <!-- Account Information -->
      <div class="detail-section">
        <h3>Account Information</h3>

        <div class="detail-group">
          <label>User ID</label>
          <p class="text-truncate">{{ user()!._id }}</p>
        </div>

        <div class="detail-group">
          <label>Role</label>
          <p>{{ user()!.roleName || user()!.roleId || 'N/A' }}</p>
        </div>

        <div class="detail-group">
          <label>Created</label>
          <p>{{ user()!.createdAt | date: 'medium' }}</p>
        </div>

        <div class="detail-group">
          <label>Last Updated</label>
          <p>{{ user()!.updatedAt | date: 'medium' }}</p>
        </div>
      </div>

    </div>


  </div>

</div>
